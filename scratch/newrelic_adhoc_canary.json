{
  "canaryConfig": {
    "name": "MySampleNewrelicCanaryConfig",
    "description": "Example Kayenta Configuration using Newrelic",
    "configVersion": "1.0",
    "applications": [
      "kayentatest"
    ],
    "judge": {
      "name": "NetflixACAJudge-v1.0",
      "judgeConfigurations": { }
    },
    "metrics": [
      {
        "name": "errorRate",
        "query": {
          "type": "newrelic",
          "select": "count(*)/uniqueCount(host)",
          "q": "httpResponseCode >= '500'"
        },
        "groups": ["err"],
        "analysisConfigurations": { },
        "scopeName": "default"
      },
      {
        "name": "transactionTime",
        "query": {
          "type": "newrelic",
          "select": "average(totalTime*1000)"
        },
        "groups": ["app"],
        "analysisConfigurations": { },
        "scopeName": "default"
      }
    ],
    "classifier": {
      "groupWeights": {
        "err": 70.0,
        "app": 30.0
      }
    }
  },
  "executionRequest": {
    "scopes": {
      "default": {
        "controlScope": {
          "type": "node",
          "scopeKey": "deployment_version",
          "scope": "appName LIKE 'PROD - MyComponent' and deployment_version like 'baseline_githash'",
          "appName": "PROD - MyComponent",
          "start": "1537783860000",
          "end": "1537785660000",
          "step": "10"
        },
        "experimentScope": {
          "type": "node",
          "scopeKey": "deployment_version",
          "scope": "experiment_githash",
          "appName": "PROD - MyComponent",
          "start": "1537783860000",
          "end": "1537785660000",
          "step": "10"
        }
      }
    },
    "thresholds": {
      "pass": 95.0,
      "marginal": 75.0
    }

  }

}
